## 第二章：变量和基本类型

### 2.1 基本内置类型

C++定义了一套**算术类型**和**空类型**在内的基本数据类型

#### 2.1.1 算术类型

![image-20211026151007360](C:\Users\马泽中\AppData\Roaming\Typora\typora-user-images\image-20211026151007360.png)

当明确知道数值不可能为负时，选用无符号类型。

char在一些机器上是由符号的，在另一些机器上是无符号的，所以如果使用char进行运算容易出问题；如果需要使用一个不大的整数，那么明确指定它的类型是**signed char或者unsigned char**;

浮点运算选用double，float经常精度不够，并且计算代价相差无几；

#### 2.1.2 类型转换

切勿混用带符号类型和无符号类型；

#### 2.1.3 字面值常量

可以将整型字面值写作十进制数，八进制数和十六进制数；

**以0开头的整数代表八进制数，以0x或者0X开头的代表十六进制数；**

如：20（十进制） 022（八进制） 0x22（十六进制）

浮点型字面值表现为一个小数或以科学计数法表示的指数[指数部分由e或E标识]，默认是一个double；【3.14 3.141E	0.	0e0	.001】

由单引号括起来的一个字符称为char型字面值，双引号括起来的零个或多个字符构成字符串型字面值；

字符串字面值的类型实际上是由常量字符构成的数组；编译器在每个字符串的结尾处添加一个空字符'\\0'，因此字面值的实际长度比它的内容多1。

**转义序列：**两类字符程序员不能直接使用：1.不可打印的字符 2.特殊含义的字符，所以需要转义字符

![image-20211026155333800](C:\Users\马泽中\AppData\Roaming\Typora\typora-user-images\image-20211026155333800.png)

指定字面值的类型：

可以通过添加前缀或后缀，改完变整型、浮点型和字符型字面值的默认类型；

![image-20211026161432240](C:\Users\马泽中\AppData\Roaming\Typora\typora-user-images\image-20211026161432240.png)



### 2.2 变量

#### 2.2.1 变量定义

类型说明符+一个或多个变量名组成的列表【变量名以逗号分隔】+分号；

如果是内置类型的变量违背显式初始化，它的值由定义的位置决定。

定义于任何函数体之外的变量被初始化为0。定义在函数体内部的内置类型变量将**不被初始化**。一个未被初始化的内置类型变量的值是未定义的，如果试图拷贝或者以其他形式访问此类值将引发错误；【我在codeblock测试的时候，*没有发现不被初始化导致的问题*，网上的案例与我实际跑的结果并不相同，可能是版本有变之类导致的】

#### 2.2.2 变量声明和定义的关系

为了允许把程序拆分成多个逻辑部分来编写，C++语言支持分离式编译机制，该机制允许将程序分割为若干个文件，每个文件可以被独立编译；

如果将程序分为多个文件， 则需要有在文件间共享代码的方法。

为了支持分离式编译，C++语言将**声明和定义**区分开，**声明**使得名字为程序所知，一个文件如果想使用别处定义的名字则必须包含对那个名字的声明，而**定义**负责创建与名字关联的实体。

如果想声明一个变量而非定义它，就在变量前添加关键字extern；

```c++
extern int i;
```

任何包含了显示初始化的声明即成为定义。

```c++
extern int i = 1;
```

![image-20211026170437377](C:\Users\马泽中\AppData\Roaming\Typora\typora-user-images\image-20211026170437377.png)

# P42

